# 인터페이스 분리 원칙(ISP: Interface Segregation Principle)

인터페이스를 분리하라는 원칙이다.

말그대로이며 이해하기 쉽다.

필자는 이제 만 2년이 조금 넘어가는 개발자지만

어쩌다보니 3번째 직장이다.(이직을 많이했다..)

실제로 겪은 일화를 간단하게 소개한다.

이직을 해서 코드를 받았다.

최초에 개발할때 오픈소스를 참고하여 개발된 솔루션이라고 했다.

하나에 컴포넌트의 제어를 역전시킨 부분이 존재했다.

하지만 하나의 인터페이스에 모든 메서드들을 다 넣어놨다.

오픈소스는 GateWay의 구현체가 DBMS일수도, 다른 API와의 통신일수도 있는걸 고려하여

다음과 같이 하나의 인터페이스에 설계한 듯 싶지만(팩토리 메서드 패턴, 추상 팩토리 패턴 등으로 사용하려고 한것 같다.)

추후 개발할때는 왜 이렇게 설계했는지 파악하지 못한 예 이다.
(주석처리된 부분은 추가된 부분)

interface GateWay{
  getAllUser()
  getUserById()
  // getAllAnimal()
  // getAnimalById()
}

주석처리된 부분은 추가된 부분으로

Animal관련 부분에서 오류가 발생하면 User 부분에도 영향이 생긴다.

물론 작은 시스템이라면 상관없지만 관련 도메인이 20~30개가 되는순간

하나의 인터페이스에 메서드가 몇십 몇백개가 되는 경우도 충분히 생길 수 있다.

유지보수는 물론 테스트 코드를 작성 하기에도 굉장히 껄끄러워진다.

퍼사드를 만들거나, 인터페이스의 분리를 해줘야 한다.

interface UserGateWay{
  getAllUser()
  getUserById()
}
interface AnimalGateWay{
  getAllAnimal()
  getAnimalById()
}

이런식으로 인터페이스를 분리하여 ISP 원칙을 지키자



